<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Getting Started with arschooldata • arschooldata</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Getting Started with arschooldata">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">arschooldata</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item"><a class="nav-link" href="../articles/arschooldata.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/enrollment_hooks.html">Arkansas School Enrollment: An Overview</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/almartin82/arschooldata/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Getting Started with arschooldata</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/almartin82/arschooldata/blob/main/vignettes/arschooldata.Rmd" class="external-link"><code>vignettes/arschooldata.Rmd</code></a></small>
      <div class="d-none name"><code>arschooldata.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>The <code>arschooldata</code> package provides access to Arkansas
school data from the Arkansas Division of Elementary and Secondary
Education (DESE). This vignette demonstrates how to use the package to
fetch and analyze Arkansas school enrollment data.</p>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Install from GitHub</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"almartin82/arschooldata"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="loading-the-package">Loading the Package<a class="anchor" aria-label="anchor" href="#loading-the-package"></a>
</h2>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://almartin82.github.io/arschooldata">arschooldata</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="checking-data-availability">Checking Data Availability<a class="anchor" aria-label="anchor" href="#checking-data-availability"></a>
</h2>
<p>Before fetching data, check which years are available:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">years</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_available_years.html">get_available_years</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">years</span><span class="op">$</span><span class="va">description</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Arkansas enrollment data is available from 2005-06 (end_year 2006) and 2012-13 (end_year 2013) through 2023-24 (end_year 2024). NOTE: Years 2007-2012 are NOT currently available due to missing ASR URLs. Data comes from the Annual Statistical Reports published by the Arkansas Division of Elementary and Secondary Education (DESE). The data contains fiscal/budget information including Average Daily Attendance (ADA), but NOT enrollment demographics by race/ethnicity."</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"\nAvailable years:"</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">years</span><span class="op">$</span><span class="va">available_years</span>, collapse <span class="op">=</span> <span class="st">", "</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Available years: 2006, 2013, 2014, 2015, 2016, 2017, 2018, 2019, 2020, 2021, 2022, 2023, 2024</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"\nGap years (not available):"</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">years</span><span class="op">$</span><span class="va">gap_years</span>, collapse <span class="op">=</span> <span class="st">", "</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Gap years (not available): 2007, 2008, 2009, 2010, 2011, 2012</span></span></code></pre></div>
<p><strong>Important:</strong> Years 2007-2012 are not currently
available due to missing data URLs.</p>
</div>
<div class="section level2">
<h2 id="fetching-single-year-data">Fetching Single Year Data<a class="anchor" aria-label="anchor" href="#fetching-single-year-data"></a>
</h2>
<p>Use <code><a href="../reference/fetch_enr.html">fetch_enr()</a></code> to download enrollment data for a single
year:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Fetch 2024 data (2023-24 school year)</span></span>
<span><span class="va">data_2024</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fetch_enr.html">fetch_enr</a></span><span class="op">(</span><span class="fl">2024</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># View dimensions</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">data_2024</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># View column names</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">data_2024</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">15</span><span class="op">]</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="understanding-the-data-structure">Understanding the Data Structure<a class="anchor" aria-label="anchor" href="#understanding-the-data-structure"></a>
</h2>
<p>The returned data contains district-level fiscal information from
Arkansas Annual Statistical Reports. Key columns include:</p>
<ul>
<li>
<strong>District identifiers</strong>: District name and 7-digit LEA
code</li>
<li>
<strong>ADA</strong>: Average Daily Attendance (closest proxy to
enrollment)</li>
<li>
<strong>ADM</strong>: Average Daily Membership</li>
<li>
<strong>Fiscal data</strong>: Revenue, expenditure, property tax,
and mill rates</li>
</ul>
<p><strong>Note:</strong> Column names vary by year due to different
Excel file formats. Use these patterns to find the right columns:</p>
<table class="table">
<thead><tr class="header">
<th>Year Format</th>
<th>District Name Column</th>
<th>District ID Column</th>
<th>ADA Column</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>2006</td>
<td><code>district_name</code></td>
<td><code>district_lea</code></td>
<td><code>ada</code></td>
</tr>
<tr class="even">
<td>2013</td>
<td><code>actual_amount</code></td>
<td><code>2</code></td>
<td><code>2_ada</code></td>
</tr>
<tr class="odd">
<td>2014-2024</td>
<td><code>1</code></td>
<td><code>2</code></td>
<td><code>2_ada</code></td>
</tr>
</tbody>
</table>
<p>Helper function for finding columns:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="co"># District name column</span></span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a>name_col <span class="ot">&lt;-</span> <span class="cf">if</span> (<span class="st">"1"</span> <span class="sc">%in%</span> <span class="fu">names</span>(data)) <span class="st">"1"</span></span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a>            <span class="cf">else</span> <span class="cf">if</span> (<span class="st">"district_name"</span> <span class="sc">%in%</span> <span class="fu">names</span>(data)) <span class="st">"district_name"</span></span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a>            <span class="cf">else</span> <span class="st">"actual_amount"</span>  <span class="co"># 2013 format</span></span>
<span id="cb5-5"><a href="#cb5-5" tabindex="-1"></a></span>
<span id="cb5-6"><a href="#cb5-6" tabindex="-1"></a><span class="co"># District ID column</span></span>
<span id="cb5-7"><a href="#cb5-7" tabindex="-1"></a>id_col <span class="ot">&lt;-</span> <span class="cf">if</span> (<span class="st">"2"</span> <span class="sc">%in%</span> <span class="fu">names</span>(data)) <span class="st">"2"</span> <span class="cf">else</span> <span class="st">"district_lea"</span></span>
<span id="cb5-8"><a href="#cb5-8" tabindex="-1"></a></span>
<span id="cb5-9"><a href="#cb5-9" tabindex="-1"></a><span class="co"># ADA column</span></span>
<span id="cb5-10"><a href="#cb5-10" tabindex="-1"></a>ada_col <span class="ot">&lt;-</span> <span class="cf">if</span> (<span class="st">"2_ada"</span> <span class="sc">%in%</span> <span class="fu">names</span>(data)) <span class="st">"2_ada"</span> <span class="cf">else</span> <span class="st">"ada"</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="fetching-multiple-years">Fetching Multiple Years<a class="anchor" aria-label="anchor" href="#fetching-multiple-years"></a>
</h2>
<p>Use <code><a href="../reference/fetch_enr_multi.html">fetch_enr_multi()</a></code> to download data for multiple
years at once:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Fetch 5 years of data</span></span>
<span><span class="va">data_multi</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fetch_enr_multi.html">fetch_enr_multi</a></span><span class="op">(</span><span class="fl">2020</span><span class="op">:</span><span class="fl">2024</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Check years included</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">data_multi</span><span class="op">$</span><span class="va">end_year</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="data-quality-notes">Data Quality Notes<a class="anchor" aria-label="anchor" href="#data-quality-notes"></a>
</h2>
<div class="section level3">
<h3 id="known-data-characteristics">Known Data Characteristics<a class="anchor" aria-label="anchor" href="#known-data-characteristics"></a>
</h3>
<ol style="list-style-type: decimal">
<li><p><strong>Header rows in data</strong>: Some years include 1-3
header rows that should be filtered out (identifiable by non-numeric
district IDs)</p></li>
<li><p><strong>Educational cooperatives</strong>: Arkansas has
Educational Service Cooperatives that appear in the data with zero ADA
(this is correct - they don’t directly serve students)</p></li>
<li><p><strong>District consolidations</strong>: Some districts show
zero ADA in transition years due to consolidation or closure</p></li>
<li><p><strong>Divide-by-zero values</strong>: The
<code>3_ada_pct_change_over_5_years</code> column contains
<code>/0</code> for new districts or those without 5-year
history</p></li>
</ol>
</div>
<div class="section level3">
<h3 id="filtering-to-valid-data">Filtering to Valid Data<a class="anchor" aria-label="anchor" href="#filtering-to-valid-data"></a>
</h3>
<p>Always filter to valid data rows before analysis:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Get valid district rows (exclude headers and cooperatives if needed)</span></span>
<span><span class="va">id_col</span> <span class="op">&lt;-</span> <span class="kw">if</span> <span class="op">(</span><span class="st">"2"</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span><span class="op">)</span> <span class="st">"2"</span> <span class="kw">else</span> <span class="st">"district_lea"</span></span>
<span></span>
<span><span class="va">valid_districts</span> <span class="op">&lt;-</span> <span class="va">data</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span></span>
<span>    <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">.data</span><span class="op">[[</span><span class="va">id_col</span><span class="op">]</span><span class="op">]</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl</a></span><span class="op">(</span><span class="st">"^[0-9]+$"</span>, <span class="va">.data</span><span class="op">[[</span><span class="va">id_col</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># Optionally exclude cooperatives (zero ADA entities)</span></span>
<span><span class="va">ada_col</span> <span class="op">&lt;-</span> <span class="kw">if</span> <span class="op">(</span><span class="st">"2_ada"</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span><span class="op">)</span> <span class="st">"2_ada"</span> <span class="kw">else</span> <span class="st">"ada"</span></span>
<span><span class="va">active_districts</span> <span class="op">&lt;-</span> <span class="va">valid_districts</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">.data</span><span class="op">[[</span><span class="va">ada_col</span><span class="op">]</span><span class="op">]</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="example-analysis-top-districts-by-ada">Example Analysis: Top Districts by ADA<a class="anchor" aria-label="anchor" href="#example-analysis-top-districts-by-ada"></a>
</h2>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Get 2024 data</span></span>
<span><span class="va">data_2024</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fetch_enr.html">fetch_enr</a></span><span class="op">(</span><span class="fl">2024</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Filter to valid data rows and convert ADA to numeric</span></span>
<span><span class="va">clean_data</span> <span class="op">&lt;-</span> <span class="va">data_2024</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">`2`</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl</a></span><span class="op">(</span><span class="st">"^[0-9]"</span>, <span class="va">`2`</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    district_name <span class="op">=</span> <span class="va">`1`</span>,</span>
<span>    ada <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">`2_ada`</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># Top 10 districts by ADA</span></span>
<span><span class="va">top_10</span> <span class="op">&lt;-</span> <span class="va">clean_data</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html" class="external-link">desc</a></span><span class="op">(</span><span class="va">ada</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fl">10</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">top_10</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"district_name"</span>, <span class="st">"ada"</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Expected output (2023-24 data):</span></span>
<span><span class="co"># Springdale: ~20,313</span></span>
<span><span class="co"># Bentonville: ~17,929</span></span>
<span><span class="co"># Little Rock: ~17,582</span></span>
<span><span class="co"># Rogers: ~14,333</span></span>
<span><span class="co"># Fort Smith: ~12,404</span></span></code></pre></div>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Plot top 10 districts</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">top_10</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/reorder.factor.html" class="external-link">reorder</a></span><span class="op">(</span><span class="va">district_name</span>, <span class="va">ada</span><span class="op">)</span>, y <span class="op">=</span> <span class="va">ada</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_col</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="st">"steelblue"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_flip.html" class="external-link">coord_flip</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span></span>
<span>    title <span class="op">=</span> <span class="st">"Top 10 Arkansas School Districts by ADA (2023-24)"</span>,</span>
<span>    x <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>    y <span class="op">=</span> <span class="st">"Average Daily Attendance"</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="example-analysis-ada-trends-over-time">Example Analysis: ADA Trends Over Time<a class="anchor" aria-label="anchor" href="#example-analysis-ada-trends-over-time"></a>
</h2>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Get multi-year data</span></span>
<span><span class="va">data_multi</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fetch_enr_multi.html">fetch_enr_multi</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2006</span>, <span class="fl">2013</span><span class="op">:</span><span class="fl">2024</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Calculate state totals by year</span></span>
<span><span class="co"># Note: Must handle different column names across years</span></span>
<span><span class="va">calculate_state_ada</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">data</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">id_col</span> <span class="op">&lt;-</span> <span class="kw">if</span> <span class="op">(</span><span class="st">"2"</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span><span class="op">)</span> <span class="st">"2"</span> <span class="kw">else</span> <span class="st">"district_lea"</span></span>
<span>  <span class="va">ada_col</span> <span class="op">&lt;-</span> <span class="kw">if</span> <span class="op">(</span><span class="st">"2_ada"</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span><span class="op">)</span> <span class="st">"2_ada"</span> <span class="kw">else</span> <span class="st">"ada"</span></span>
<span></span>
<span>  <span class="va">valid</span> <span class="op">&lt;-</span> <span class="va">data</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">data</span><span class="op">[[</span><span class="va">id_col</span><span class="op">]</span><span class="op">]</span><span class="op">)</span> <span class="op">&amp;</span> <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl</a></span><span class="op">(</span><span class="st">"^[0-9]+$"</span>, <span class="va">data</span><span class="op">[[</span><span class="va">id_col</span><span class="op">]</span><span class="op">]</span><span class="op">)</span>, <span class="op">]</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">valid</span><span class="op">[[</span><span class="va">ada_col</span><span class="op">]</span><span class="op">]</span><span class="op">)</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">state_totals</span> <span class="op">&lt;-</span> <span class="va">data_multi</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">end_year</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarize</a></span><span class="op">(</span></span>
<span>    total_ada <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">`2_ada`</span><span class="op">)</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># Plot state total ADA over time</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">state_totals</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">end_year</span>, y <span class="op">=</span> <span class="va">total_ada</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span>color <span class="op">=</span> <span class="st">"steelblue"</span>, linewidth <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>color <span class="op">=</span> <span class="st">"steelblue"</span>, size <span class="op">=</span> <span class="fl">3</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_y_continuous</a></span><span class="op">(</span>labels <span class="op">=</span> <span class="fu">scales</span><span class="fu">::</span><span class="va"><a href="https://scales.r-lib.org/reference/comma.html" class="external-link">comma</a></span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span></span>
<span>    title <span class="op">=</span> <span class="st">"Arkansas Total K-12 Average Daily Attendance"</span>,</span>
<span>    x <span class="op">=</span> <span class="st">"School Year (End Year)"</span>,</span>
<span>    y <span class="op">=</span> <span class="st">"Total ADA"</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="major-arkansas-school-districts">Major Arkansas School Districts<a class="anchor" aria-label="anchor" href="#major-arkansas-school-districts"></a>
</h2>
<p>For reference, here are the largest Arkansas school districts and
their approximate 2024 ADA:</p>
<table class="table">
<thead><tr class="header">
<th>Rank</th>
<th>District</th>
<th>ID</th>
<th>ADA (2024)</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>Springdale</td>
<td>7207000</td>
<td>20,313</td>
</tr>
<tr class="even">
<td>2</td>
<td>Bentonville</td>
<td>0401000</td>
<td>17,929</td>
</tr>
<tr class="odd">
<td>3</td>
<td>Little Rock</td>
<td>6001000</td>
<td>17,582</td>
</tr>
<tr class="even">
<td>4</td>
<td>Rogers</td>
<td>0405000</td>
<td>14,333</td>
</tr>
<tr class="odd">
<td>5</td>
<td>Fort Smith</td>
<td>6601000</td>
<td>12,404</td>
</tr>
<tr class="even">
<td>6</td>
<td>Cabot</td>
<td>4304000</td>
<td>9,485</td>
</tr>
<tr class="odd">
<td>7</td>
<td>Fayetteville</td>
<td>7203000</td>
<td>9,377</td>
</tr>
<tr class="even">
<td>8</td>
<td>Conway</td>
<td>2301000</td>
<td>9,302</td>
</tr>
<tr class="odd">
<td>9</td>
<td>Bryant</td>
<td>6303000</td>
<td>9,027</td>
</tr>
<tr class="even">
<td>10</td>
<td>Jonesboro</td>
<td>1608000</td>
<td>5,741</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="caching">Caching<a class="anchor" aria-label="anchor" href="#caching"></a>
</h2>
<p>By default, downloaded data is cached locally to avoid repeated
downloads:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Check cache status</span></span>
<span><span class="fu"><a href="../reference/cache_status.html">cache_status</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>Cache management:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Clear all cached data</span></span>
<span><span class="fu"><a href="../reference/clear_cache.html">clear_cache</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Clear only 2024 data</span></span>
<span><span class="fu"><a href="../reference/clear_cache.html">clear_cache</a></span><span class="op">(</span><span class="fl">2024</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Force fresh download</span></span>
<span><span class="va">data_fresh</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fetch_enr.html">fetch_enr</a></span><span class="op">(</span><span class="fl">2024</span>, use_cache <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="data-source-details">Data Source Details<a class="anchor" aria-label="anchor" href="#data-source-details"></a>
</h2>
<p>Arkansas school data comes from two sources:</p>
<ol style="list-style-type: decimal">
<li>
<strong>Annual Statistical Reports (ASR)</strong>: District-level
fiscal and enrollment summary data
<ul>
<li>URL: <a href="https://dese.ade.arkansas.gov/offices/data-management/annual-statistical-report" class="external-link uri">https://dese.ade.arkansas.gov/offices/data-management/annual-statistical-report</a>
</li>
</ul>
</li>
<li>
<strong>ADE Data Center</strong>: Detailed enrollment demographics
(not yet implemented in this package)
<ul>
<li>URL: <a href="https://adedata.arkansas.gov/statewide/" class="external-link uri">https://adedata.arkansas.gov/statewide/</a>
</li>
</ul>
</li>
</ol>
</div>
<div class="section level2">
<h2 id="limitations">Limitations<a class="anchor" aria-label="anchor" href="#limitations"></a>
</h2>
<p>Currently, this package provides:</p>
<ul>
<li>Average Daily Attendance (ADA) - a proxy for enrollment</li>
<li>District-level fiscal data (revenue, expenditure, mills)</li>
<li>Historical data from 2006 and 2013-2024</li>
</ul>
<p>It does NOT yet provide:</p>
<ul>
<li>Enrollment demographics by race/ethnicity</li>
<li>School-level data</li>
<li>Grade-level breakdowns</li>
<li>Years 2007-2012 (missing source URLs)</li>
</ul>
<p>For detailed demographics, visit the ADE Data Center directly at <a href="https://adedata.arkansas.gov/statewide/" class="external-link uri">https://adedata.arkansas.gov/statewide/</a></p>
</div>
<div class="section level2">
<h2 id="getting-help">Getting Help<a class="anchor" aria-label="anchor" href="#getting-help"></a>
</h2>
<p>For issues or feature requests, visit: <a href="https://github.com/almartin82/arschooldata/issues" class="external-link uri">https://github.com/almartin82/arschooldata/issues</a></p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Al Martin.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
